[
  {
    "objectID": "data_gathering/fdic_data_api_client.html",
    "href": "data_gathering/fdic_data_api_client.html",
    "title": "FDIC Data API Client",
    "section": "",
    "text": "By 503 Team 4\nSource: https://banks.data.fdic.gov/docs/#/"
  },
  {
    "objectID": "data_gathering/fdic_data_api_client.html#code",
    "href": "data_gathering/fdic_data_api_client.html#code",
    "title": "FDIC Data API Client",
    "section": "Code",
    "text": "Code\nImport libraries\n\nimport requests\nimport pandas as pd\nimport json\nimport urllib.parse\n\nDefine function\n\n# set endpoint\nendpoint = 'https://banks.data.fdic.gov/api/'\n\n# function\ndef get_all_financial_reporting_data(endpoint, reporting_period, fields, result_limit=5000):\n    \"\"\"\n    NC (Noninsured non-deposit commercial banks) are removed below to match the query of the FDIC site https://banks.data.fdic.gov/bankfind-suite/financialreporting\n    \"\"\"\n    \n    \n    # initialize data list\n    financials = []\n    \n    # query\n    fields_encoded = urllib.parse.quote(fields, safe='')\n    url = f'{endpoint}financials?filters=RISDATE:{reporting_period} AND !(BKCLASS:\"NC\")&fields={fields_encoded}&limit={result_limit}&sort_by=REPDTE&sort_order=ASC'\n    \n    # get response\n    response = requests.get(url)\n\n    if response.status_code == 200:\n        # response to json\n        data = response.json()\n\n        # store response data\n        financial_data = [item['data'] for item in data['data']]\n        financials.extend(financial_data)\n\n    else:\n        print(f'Request failed with status code {response.status_code}')\n        return None\n\n    return pd.DataFrame(financials)\n\nQuery the data\n\n# params\nreporting_period = '2022-12-31'\nfields = 'REPDTE,CERT,NAME,CITY,STNAME,ASSET,DEPDOM,BKCLASS,ADDRESS,ZIP,EQ,LIAB,ESTYMD,ENDEFYMD,' # no spaces between!\nresult_limit = 50\n\n# call\nall_financial_reporting_data = get_all_financial_reporting_data(endpoint, reporting_period, fields, result_limit)\n\n# display\nif all_financial_reporting_data is not None:\n    all_financial_reporting_data = all_financial_reporting_data.sort_values('CERT')\n    display(all_financial_reporting_data.head())\n    all_financial_reporting_data.to_csv(f'quarterly_financials/{reporting_period}_quarterly_financials.csv', index=False)\n\n\n\n\n\n\n\n\nZIP\nBKCLASS\nREPDTE\nDEPDOM\nASSET\nSTNAME\nEQ\nNAME\nCITY\nADDRESS\nENDEFYMD\nCERT\nESTYMD\nLIAB\nID\n\n\n\n\n7\n48858\nSM\n20221231\n1753341\n1981367\nMICHIGAN\n157576\nISABELLA BANK\nMOUNT PLEASANT\n200 E BROADWAY ST\n99991231\n1005\n19030701\n1823791\n1005_20221231\n\n\n12\n49230\nSM\n20221231\n101624\n113473\nMICHIGAN\n10543\nBANK MICHIGAN\nBROOKLYN\n417 S MAIN ST\n99991231\n1008\n19071001\n102930\n1008_20221231\n\n\n25\n49345\nSM\n20221231\n2126308\n2382585\nMICHIGAN\n192540\nCHOICEONE BANK\nSPARTA\n109 E DIVISION ST\n99991231\n1014\n18980101\n2190045\n1014_20221231\n\n\n49\n53818\nN\n20221231\n306266\n331939\nWISCONSIN\n16877\nCLARE BANK NATIONAL ASSN\nPLATTEVILLE\n345 W PINE ST\n99991231\n1022\n19051028\n315062\n1022_20221231\n\n\n0\n53946\nNM\n20221231\n123276\n148421\nWISCONSIN\n10659\nERGO BANK\nMARKESAN\n86 E WATER ST\n99991231\n10004\n19100120\n137762\n10004_20221231\n\n\n\n\n\n\n\nCheck data\n\ndisplay(all_financial_reporting_data.shape)\ncolumn_to_check = 'ACTIVE'\ndisplay(pd.DataFrame({'col1': all_financial_reporting_data[column_to_check].value_counts().index, 'count': all_financial_reporting_data[column_to_check].value_counts().values}))\n\n\n(4715, 15)\n\n\n\n\n\n\n\n\n\ncol1\ncount\n\n\n\n\n0\n1\n4715\n\n\n\n\n\n\n\nGet the last quarter for the past 30 years\n\ntoday = pd.Timestamp.now().date()\n\n\n# define the start and end dates of the range (inclusive)\nstart_date = '1992-03-31'\nend_date = '2012-03-31'\n\n# generate a list of dates within the range, with a frequency of 1 quarter\ndates = pd.date_range(start=start_date, end=end_date, freq='Q')\n\n# loop\nfor date in dates:\n\n    # get end of quarter\n    end_of_quarter = date.strftime('%Y-%m-%d') # format\n    \n    fields = 'REPDTE,CERT,NAME,CITY,STNAME,ASSET,DEPDOM,BKCLASS,ADDRESS,ZIP,EQ,LIAB,ESTYMD,ENDEFYMD,' # no spaces between!\n    result_limit = 10000\n\n    # call\n    all_financial_reporting_data = get_all_financial_reporting_data(endpoint, end_of_quarter, fields, result_limit)\n\n    # display\n    if all_financial_reporting_data is not None:\n        all_financial_reporting_data = all_financial_reporting_data.sort_values('CERT')\n        all_financial_reporting_data.to_csv(f'../../data/quarterly_financials/{end_of_quarter}_quarterly_financials.csv', index=False)\n        print(f'{end_of_quarter} done')\n\n1992-03-31 done"
  },
  {
    "objectID": "geospatial.html",
    "href": "geospatial.html",
    "title": "Geospatial",
    "section": "",
    "text": "Geospatial\n\nBanks have many offices. Locations mean the main office. As per the FDIC the main office is the headquarters listed in the charter. Which may not be the same as the corporate headquarter.\nAttempted to query all the addresses with geopy but estimated time would have been 16 hours of runtime.\nInstead we use the zip code coordiantes as proxy for the banks main offices.\n\nZip code data obtained from “ZIP Code Tabulation Areas” in https://www.census.gov/geographies/reference-files/time-series/geo/gazetteer-files.html\nWe use the Folium Python library - a leaflet.js wrapper - which will allow us to use OpenStreetMap.\nMany banks have moved to south dakota."
  },
  {
    "objectID": "plot-5.html",
    "href": "plot-5.html",
    "title": "Plot 5",
    "section": "",
    "text": "Plot 5\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of “de Finibus Bonorum et Malorum” (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, “Lorem ipsum dolor sit amet..”, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from “de Finibus Bonorum et Malorum” by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham."
  },
  {
    "objectID": "code.html",
    "href": "code.html",
    "title": "Code",
    "section": "",
    "text": "Code"
  },
  {
    "objectID": "plot-4.html",
    "href": "plot-4.html",
    "title": "Plot 4",
    "section": "",
    "text": "Plot 4\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of “de Finibus Bonorum et Malorum” (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, “Lorem ipsum dolor sit amet..”, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from “de Finibus Bonorum et Malorum” by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham."
  },
  {
    "objectID": "plot-3.html",
    "href": "plot-3.html",
    "title": "Plot 3",
    "section": "",
    "text": "Plot 3\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of “de Finibus Bonorum et Malorum” (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, “Lorem ipsum dolor sit amet..”, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from “de Finibus Bonorum et Malorum” by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham."
  },
  {
    "objectID": "plot-2.html",
    "href": "plot-2.html",
    "title": "Plot 2",
    "section": "",
    "text": "Plot 2\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\nContrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of “de Finibus Bonorum et Malorum” (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, “Lorem ipsum dolor sit amet..”, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from “de Finibus Bonorum et Malorum” by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "What is Lorem Ipsum?",
    "section": "",
    "text": "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry’s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n\n\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using ‘Content here, content here’, making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for ‘lorem ipsum’ will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\nlibrary(gt)\ngt(mtcars)\n\n\n\n\n\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\n21.0\n6\n160.0\n110\n3.90\n2.620\n16.46\n0\n1\n4\n4\n\n\n21.0\n6\n160.0\n110\n3.90\n2.875\n17.02\n0\n1\n4\n4\n\n\n22.8\n4\n108.0\n93\n3.85\n2.320\n18.61\n1\n1\n4\n1\n\n\n21.4\n6\n258.0\n110\n3.08\n3.215\n19.44\n1\n0\n3\n1\n\n\n18.7\n8\n360.0\n175\n3.15\n3.440\n17.02\n0\n0\n3\n2\n\n\n18.1\n6\n225.0\n105\n2.76\n3.460\n20.22\n1\n0\n3\n1\n\n\n14.3\n8\n360.0\n245\n3.21\n3.570\n15.84\n0\n0\n3\n4\n\n\n24.4\n4\n146.7\n62\n3.69\n3.190\n20.00\n1\n0\n4\n2\n\n\n22.8\n4\n140.8\n95\n3.92\n3.150\n22.90\n1\n0\n4\n2\n\n\n19.2\n6\n167.6\n123\n3.92\n3.440\n18.30\n1\n0\n4\n4\n\n\n17.8\n6\n167.6\n123\n3.92\n3.440\n18.90\n1\n0\n4\n4\n\n\n16.4\n8\n275.8\n180\n3.07\n4.070\n17.40\n0\n0\n3\n3\n\n\n17.3\n8\n275.8\n180\n3.07\n3.730\n17.60\n0\n0\n3\n3\n\n\n15.2\n8\n275.8\n180\n3.07\n3.780\n18.00\n0\n0\n3\n3\n\n\n10.4\n8\n472.0\n205\n2.93\n5.250\n17.98\n0\n0\n3\n4\n\n\n10.4\n8\n460.0\n215\n3.00\n5.424\n17.82\n0\n0\n3\n4\n\n\n14.7\n8\n440.0\n230\n3.23\n5.345\n17.42\n0\n0\n3\n4\n\n\n32.4\n4\n78.7\n66\n4.08\n2.200\n19.47\n1\n1\n4\n1\n\n\n30.4\n4\n75.7\n52\n4.93\n1.615\n18.52\n1\n1\n4\n2\n\n\n33.9\n4\n71.1\n65\n4.22\n1.835\n19.90\n1\n1\n4\n1\n\n\n21.5\n4\n120.1\n97\n3.70\n2.465\n20.01\n1\n0\n3\n1\n\n\n15.5\n8\n318.0\n150\n2.76\n3.520\n16.87\n0\n0\n3\n2\n\n\n15.2\n8\n304.0\n150\n3.15\n3.435\n17.30\n0\n0\n3\n2\n\n\n13.3\n8\n350.0\n245\n3.73\n3.840\n15.41\n0\n0\n3\n4\n\n\n19.2\n8\n400.0\n175\n3.08\n3.845\n17.05\n0\n0\n3\n2\n\n\n27.3\n4\n79.0\n66\n4.08\n1.935\n18.90\n1\n1\n4\n1\n\n\n26.0\n4\n120.3\n91\n4.43\n2.140\n16.70\n0\n1\n5\n2\n\n\n30.4\n4\n95.1\n113\n3.77\n1.513\n16.90\n1\n1\n5\n2\n\n\n15.8\n8\n351.0\n264\n4.22\n3.170\n14.50\n0\n1\n5\n4\n\n\n19.7\n6\n145.0\n175\n3.62\n2.770\n15.50\n0\n1\n5\n6\n\n\n15.0\n8\n301.0\n335\n3.54\n3.570\n14.60\n0\n1\n5\n8\n\n\n21.4\n4\n121.0\n109\n4.11\n2.780\n18.60\n1\n1\n4\n2"
  },
  {
    "objectID": "index.html#why-do-we-use-it",
    "href": "index.html#why-do-we-use-it",
    "title": "What is Lorem Ipsum?",
    "section": "",
    "text": "It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using ‘Content here, content here’, making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for ‘lorem ipsum’ will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\nlibrary(gt)\ngt(mtcars)\n\n\n\n\n\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\n21.0\n6\n160.0\n110\n3.90\n2.620\n16.46\n0\n1\n4\n4\n\n\n21.0\n6\n160.0\n110\n3.90\n2.875\n17.02\n0\n1\n4\n4\n\n\n22.8\n4\n108.0\n93\n3.85\n2.320\n18.61\n1\n1\n4\n1\n\n\n21.4\n6\n258.0\n110\n3.08\n3.215\n19.44\n1\n0\n3\n1\n\n\n18.7\n8\n360.0\n175\n3.15\n3.440\n17.02\n0\n0\n3\n2\n\n\n18.1\n6\n225.0\n105\n2.76\n3.460\n20.22\n1\n0\n3\n1\n\n\n14.3\n8\n360.0\n245\n3.21\n3.570\n15.84\n0\n0\n3\n4\n\n\n24.4\n4\n146.7\n62\n3.69\n3.190\n20.00\n1\n0\n4\n2\n\n\n22.8\n4\n140.8\n95\n3.92\n3.150\n22.90\n1\n0\n4\n2\n\n\n19.2\n6\n167.6\n123\n3.92\n3.440\n18.30\n1\n0\n4\n4\n\n\n17.8\n6\n167.6\n123\n3.92\n3.440\n18.90\n1\n0\n4\n4\n\n\n16.4\n8\n275.8\n180\n3.07\n4.070\n17.40\n0\n0\n3\n3\n\n\n17.3\n8\n275.8\n180\n3.07\n3.730\n17.60\n0\n0\n3\n3\n\n\n15.2\n8\n275.8\n180\n3.07\n3.780\n18.00\n0\n0\n3\n3\n\n\n10.4\n8\n472.0\n205\n2.93\n5.250\n17.98\n0\n0\n3\n4\n\n\n10.4\n8\n460.0\n215\n3.00\n5.424\n17.82\n0\n0\n3\n4\n\n\n14.7\n8\n440.0\n230\n3.23\n5.345\n17.42\n0\n0\n3\n4\n\n\n32.4\n4\n78.7\n66\n4.08\n2.200\n19.47\n1\n1\n4\n1\n\n\n30.4\n4\n75.7\n52\n4.93\n1.615\n18.52\n1\n1\n4\n2\n\n\n33.9\n4\n71.1\n65\n4.22\n1.835\n19.90\n1\n1\n4\n1\n\n\n21.5\n4\n120.1\n97\n3.70\n2.465\n20.01\n1\n0\n3\n1\n\n\n15.5\n8\n318.0\n150\n2.76\n3.520\n16.87\n0\n0\n3\n2\n\n\n15.2\n8\n304.0\n150\n3.15\n3.435\n17.30\n0\n0\n3\n2\n\n\n13.3\n8\n350.0\n245\n3.73\n3.840\n15.41\n0\n0\n3\n4\n\n\n19.2\n8\n400.0\n175\n3.08\n3.845\n17.05\n0\n0\n3\n2\n\n\n27.3\n4\n79.0\n66\n4.08\n1.935\n18.90\n1\n1\n4\n1\n\n\n26.0\n4\n120.3\n91\n4.43\n2.140\n16.70\n0\n1\n5\n2\n\n\n30.4\n4\n95.1\n113\n3.77\n1.513\n16.90\n1\n1\n5\n2\n\n\n15.8\n8\n351.0\n264\n4.22\n3.170\n14.50\n0\n1\n5\n4\n\n\n19.7\n6\n145.0\n175\n3.62\n2.770\n15.50\n0\n1\n5\n6\n\n\n15.0\n8\n301.0\n335\n3.54\n3.570\n14.60\n0\n1\n5\n8\n\n\n21.4\n4\n121.0\n109\n4.11\n2.780\n18.60\n1\n1\n4\n2"
  },
  {
    "objectID": "methods.html",
    "href": "methods.html",
    "title": "Methods",
    "section": "",
    "text": "Methods"
  },
  {
    "objectID": "authors.html",
    "href": "authors.html",
    "title": "Authors",
    "section": "",
    "text": "Authors\nAustin Barish abb110@georgetown.edu\nJordan Rinaldi jar388@georgetown.edu\nRaunak Advani ra1113@georgetown.edu\nVictor De Lima vad49@georgetown.edu"
  },
  {
    "objectID": "data_cleaning/geospatial_cleaning.html",
    "href": "data_cleaning/geospatial_cleaning.html",
    "title": "Data Cleaning - Geospatial Data",
    "section": "",
    "text": "import pandas as pd\nimport os\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nfrom geopy.geocoders import Nominatim\nimport folium\nimport ipywidgets as widgets\nfrom IPython.display import display\n# specify the directory containing the CSV files\ndirectory = '../../data/quarterly_financials'\n\n# create an empty list to store the dataframes\ndfs = []\n\n# loop over the CSV files in the directory\nfor filename in os.listdir(directory):\n    if filename.endswith('.csv'):\n        # read the CSV file into a dataframe and append it to the list\n        path = os.path.join(directory, filename)\n        df = pd.read_csv(path)\n        dfs.append(df)\n\n# concatenate the dataframes into a single dataframe\nquarterly_financials = pd.concat(dfs, ignore_index=True)\n# sort\nquarterly_financials = quarterly_financials.sort_values(by=['REPDTE', 'CERT'], ascending=[False, True])\nquarterly_financials = quarterly_financials.reset_index(drop=True)\n# print the combined dataframe\ndisplay(quarterly_financials.shape)\ndisplay(quarterly_financials.head())\n\n(971541, 15)\n\n\n\n\n\n\n\n\n\nZIP\nBKCLASS\nREPDTE\nDEPDOM\nASSET\nSTNAME\nEQ\nNAME\nCITY\nADDRESS\nENDEFYMD\nCERT\nESTYMD\nLIAB\nID\n\n\n\n\n0\n2111\nSM\n20221231\n163284000.0\n298020000\nMASSACHUSETTS\n26579000.0\nSTATE STREET BANK&TRUST CO\nBOSTON\n1 LINCOLN ST\n99991231.0\n14\n17920101\n271441000.0\n14_20221231\n\n\n1\n36830\nSM\n20221231\n952037.0\n1023366\nALABAMA\n65967.0\nAUBURNBANK\nAUBURN\n100 N GAY ST\n99991231.0\n35\n19070103\n957399.0\n35_20221231\n\n\n2\n36732\nNM\n20221231\n407949.0\n444822\nALABAMA\n32577.0\nROBERTSON BANKING CO\nDEMOPOLIS\n216 N WALNUT AVE\n99991231.0\n39\n18700101\n412245.0\n39_20221231\n\n\n3\n36867\nNM\n20221231\n266874.0\n265272\nALABAMA\n-8465.0\nPHENIX-GIRARD BANK\nPHENIX CITY\n801 13TH ST\n99991231.0\n41\n19040504\n273737.0\n41_20221231\n\n\n4\n36401\nNM\n20221231\n70649.0\n76239\nALABAMA\n5487.0\nBANK OF EVERGREEN\nEVERGREEN\n146 W FRONT ST\n99991231.0\n49\n19320901\n70752.0\n49_20221231\ndisplay(len(quarterly_financials['BKCLASS'].unique()))\ndisplay(quarterly_financials['BKCLASS'].unique())\n\n7\n\n\narray(['SM', 'NM', 'N', 'SI', 'SB', 'SL', 'OI'], dtype=object)\nZip coordinates\n# bring in\nzip_coordinates = pd.read_csv('../../data/coordinate_data/2022_Gaz_zcta_national.txt', sep='\\t')\n\n# remove whitespace in col names\nzip_coordinates.columns = [col.strip() for col in zip_coordinates.columns]\n\n# drop unnecesary columns\nzip_coordinates.drop(['ALAND', 'ALAND_SQMI', 'AWATER', 'AWATER_SQMI'], axis=1, inplace=True)\n\n# check\ndisplay(zip_coordinates.shape)\ndisplay(zip_coordinates.head())\n\n(33791, 3)\n\n\n\n\n\n\n\n\n\nGEOID\nINTPTLAT\nINTPTLONG\n\n\n\n\n0\n601\n18.180555\n-66.749961\n\n\n1\n602\n18.361945\n-67.175597\n\n\n2\n603\n18.457399\n-67.124867\n\n\n3\n606\n18.158327\n-66.932928\n\n\n4\n610\n18.293960\n-67.127182\ndisplay(len(quarterly_financials['ZIP'].unique()))\n\n10754\nCombine\n# Rename the 'GEOID' column in 'zip_coordinates' to match the 'ZIP' column in 'quarterly_financials'\nzip_coordinates = zip_coordinates.rename(columns={'GEOID': 'ZIP'})\n\n# Merge the two dataframes on the 'ZIP' column\nmerged_df = quarterly_financials.merge(zip_coordinates, on='ZIP', how='left')\n\n# Create a new column 'coordinates' with the combined 'INTPTLAT' and 'INTPTLONG' columns as a tuple\nmerged_df['zip_coordinates'] = list(zip(merged_df['INTPTLAT'], merged_df['INTPTLONG']))\n\n# Update the 'quarterly_financials' dataframe with the new 'coordinates' column\nquarterly_financials = merged_df\n\n# Print the updated 'quarterly_financials' dataframe\ndisplay(quarterly_financials.shape)\ndisplay(quarterly_financials.head())\n\n(971541, 18)\n\n\n\n\n\n\n\n\n\nZIP\nBKCLASS\nREPDTE\nDEPDOM\nASSET\nSTNAME\nEQ\nNAME\nCITY\nADDRESS\nENDEFYMD\nCERT\nESTYMD\nLIAB\nID\nINTPTLAT\nINTPTLONG\nzip_coordinates\n\n\n\n\n0\n2111\nSM\n20221231\n163284000.0\n298020000\nMASSACHUSETTS\n26579000.0\nSTATE STREET BANK&TRUST CO\nBOSTON\n1 LINCOLN ST\n99991231.0\n14\n17920101\n271441000.0\n14_20221231\n42.350680\n-71.060527\n(42.35068, -71.060527)\n\n\n1\n36830\nSM\n20221231\n952037.0\n1023366\nALABAMA\n65967.0\nAUBURNBANK\nAUBURN\n100 N GAY ST\n99991231.0\n35\n19070103\n957399.0\n35_20221231\n32.534872\n-85.493755\n(32.534872, -85.493755)\n\n\n2\n36732\nNM\n20221231\n407949.0\n444822\nALABAMA\n32577.0\nROBERTSON BANKING CO\nDEMOPOLIS\n216 N WALNUT AVE\n99991231.0\n39\n18700101\n412245.0\n39_20221231\n32.417456\n-87.892213\n(32.417456, -87.892213)\n\n\n3\n36867\nNM\n20221231\n266874.0\n265272\nALABAMA\n-8465.0\nPHENIX-GIRARD BANK\nPHENIX CITY\n801 13TH ST\n99991231.0\n41\n19040504\n273737.0\n41_20221231\n32.498054\n-85.023590\n(32.498054, -85.02359)\n\n\n4\n36401\nNM\n20221231\n70649.0\n76239\nALABAMA\n5487.0\nBANK OF EVERGREEN\nEVERGREEN\n146 W FRONT ST\n99991231.0\n49\n19320901\n70752.0\n49_20221231\n31.468970\n-86.950426\n(31.46897, -86.950426)\n# removed unmatched zips\nquarterly_financials.dropna(subset=['INTPTLAT'], inplace=True)\n\n# drop unnecesary columns\nquarterly_financials.drop(['INTPTLAT', 'INTPTLONG', 'ENDEFYMD', 'CERT', 'ESTYMD', 'LIAB', 'ID', 'ADDRESS', 'EQ', 'ZIP'], axis=1, inplace=True)\n\n# convert numerical values to millions (source is in thousands)\nquarterly_financials['DEPDOM'] = quarterly_financials['DEPDOM'].divide(1000)\nquarterly_financials['ASSET'] = quarterly_financials['ASSET'].divide(1000)\n\n# rename\nquarterly_financials.rename(columns={\n    'BKCLASS': 'bank_class', \n    'REPDTE': 'report_date', \n    'DEPDOM': 'deposits_mill', \n    'ASSET': 'assets_mill', \n    'STNAME': 'state', \n    'NAME': 'name',\n    'CITY': 'city'\n    }, inplace=True)\n\ndisplay(quarterly_financials.head())\n\n\n\n\n\n\n\n\nbank_class\nreport_date\ndeposits_mill\nassets_mill\nstate\nname\ncity\nzip_coordinates\n\n\n\n\n0\nSM\n20221231\n163284.000\n298020.000\nMASSACHUSETTS\nSTATE STREET BANK&TRUST CO\nBOSTON\n(42.35068, -71.060527)\n\n\n1\nSM\n20221231\n952.037\n1023.366\nALABAMA\nAUBURNBANK\nAUBURN\n(32.534872, -85.493755)\n\n\n2\nNM\n20221231\n407.949\n444.822\nALABAMA\nROBERTSON BANKING CO\nDEMOPOLIS\n(32.417456, -87.892213)\n\n\n3\nNM\n20221231\n266.874\n265.272\nALABAMA\nPHENIX-GIRARD BANK\nPHENIX CITY\n(32.498054, -85.02359)\n\n\n4\nNM\n20221231\n70.649\n76.239\nALABAMA\nBANK OF EVERGREEN\nEVERGREEN\n(31.46897, -86.950426)\n# change to title case\nquarterly_financials[['state', 'name', 'city']] = quarterly_financials[['state', 'name', 'city']].apply(lambda x: x.str.title())\n\n# format date\nquarterly_financials['report_date'] = pd.to_datetime(quarterly_financials['report_date'], format='%Y%m%d')\n\n# set to float\nquarterly_financials['deposits_mill'] = quarterly_financials['deposits_mill'].astype(float)\nquarterly_financials['assets_mill'] = quarterly_financials['assets_mill'].astype(float)\n\n\ndisplay(quarterly_financials.head())\n\n\n\n\n\n\n\n\nbank_class\nreport_date\ndeposits_mill\nassets_mill\nstate\nname\ncity\nzip_coordinates\n\n\n\n\n0\nSM\n2022-12-31\n163284.000\n298020.000\nMassachusetts\nState Street Bank&Trust Co\nBoston\n(42.35068, -71.060527)\n\n\n1\nSM\n2022-12-31\n952.037\n1023.366\nAlabama\nAuburnbank\nAuburn\n(32.534872, -85.493755)\n\n\n2\nNM\n2022-12-31\n407.949\n444.822\nAlabama\nRobertson Banking Co\nDemopolis\n(32.417456, -87.892213)\n\n\n3\nNM\n2022-12-31\n266.874\n265.272\nAlabama\nPhenix-Girard Bank\nPhenix City\n(32.498054, -85.02359)\n\n\n4\nNM\n2022-12-31\n70.649\n76.239\nAlabama\nBank Of Evergreen\nEvergreen\n(31.46897, -86.950426)\nquarterly_financials['bank_class'] = quarterly_financials['bank_class'].replace({\n    'N':  'Commercial bank, national charter, Fed member',\n    'NM': 'Commercial bank, state charter, Fed non-member',\n    'OI': 'Insured U.S. branch of a foreign chartered institution',\n    'SB': 'Federal savings banks',\n    'SI': 'State chartered stock savings banks',\n    'SL': 'State chartered stock savings and loan association',\n    'SM': 'Commercial bank, state charter, Fed member',\n    'NC': 'Noninsured non-deposit commercial bank',\n    'NS': 'Noninsured stock savings bank',\n    'CU': 'State or federally chartered credit union',\n    })\n\ndisplay(quarterly_financials.shape)\ndisplay(quarterly_financials.head())\n\n\n(937293, 8)\n\n\n\n\n\n\n\n\n\nbank_class\nreport_date\ndeposits_mill\nassets_mill\nstate\nname\ncity\nzip_coordinates\n\n\n\n\n0\nCommercial bank, state charter, Fed member\n2022-12-31\n163284.000\n298020.000\nMassachusetts\nState Street Bank&Trust Co\nBoston\n(42.35068, -71.060527)\n\n\n1\nCommercial bank, state charter, Fed member\n2022-12-31\n952.037\n1023.366\nAlabama\nAuburnbank\nAuburn\n(32.534872, -85.493755)\n\n\n2\nCommercial bank, state charter, Fed non-member\n2022-12-31\n407.949\n444.822\nAlabama\nRobertson Banking Co\nDemopolis\n(32.417456, -87.892213)\n\n\n3\nCommercial bank, state charter, Fed non-member\n2022-12-31\n266.874\n265.272\nAlabama\nPhenix-Girard Bank\nPhenix City\n(32.498054, -85.02359)\n\n\n4\nCommercial bank, state charter, Fed non-member\n2022-12-31\n70.649\n76.239\nAlabama\nBank Of Evergreen\nEvergreen\n(31.46897, -86.950426)\nquarterly_financials['zip_coordinates'].isna().sum()\n\n0"
  },
  {
    "objectID": "data_cleaning/geospatial_cleaning.html#growth-of-assets-with-slider",
    "href": "data_cleaning/geospatial_cleaning.html#growth-of-assets-with-slider",
    "title": "Data Cleaning - Geospatial Data",
    "section": "Growth of Assets with Slider",
    "text": "Growth of Assets with Slider\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML\n\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\n\n# Get the unique report dates sorted\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\n# Create the index slider\nindex_slider = widgets.IntSlider(\n    min=0,\n    max=len(unique_dates) - 1,\n    description='Date Index:',\n    continuous_update=False,\n)\n\n# Create the play button\nplay_button = widgets.Play(\n    interval=100,  # Time in milliseconds between updates\n    value=0,  # Slider starting value\n    min=0,\n    max=len(unique_dates) - 1,\n    step=1,\n    description=\"Press play\",\n    disabled=False\n)\n\n# Link the play button to the index slider\nwidgets.jslink((play_button, 'value'), (index_slider, 'value'))\n\n# Create a horizontal box to display the slider and play button together\nslider_with_play = widgets.HBox([index_slider, play_button])\n\ndef display_map(index):\n    date = unique_dates[index]\n    m = plot_bank_assets_by_date(date)\n    display(m)\n\n# Use widgets.interactive() and assign the output to a variable\ninteractive_map = widgets.interactive(display_map, index=index_slider)\n\n# Clear the output of interactive_map (to prevent double display of the map)\ninteractive_map.update()\n\n\n# Display the slider with the play button and the interactive map\ndisplay(slider_with_play)\ndisplay(interactive_map.children[-1])\n\n\n\n\n\n\n\n\n\n\n\nimport folium\nimport geopandas as gpd\nimport pandas as pd\nfrom IPython.display import display\nfrom ipywidgets import GridBox, Layout, HTML\nimport ipywidgets as widgets\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    return m\n\n# The dates to create the maps for\ndates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\n# Create the maps for each date\nmaps = [plot_bank_assets_by_date(date) for date in dates]\n\n# Wrap the map HTML strings with ipywidgets.HTML\nmap_widgets = [HTML(value=map._repr_html_()) for map in maps]\n\n# Display the maps in a 2x2 grid\ngrid_maps = GridBox(map_widgets, layout=Layout(grid_template_columns=\"repeat(2, 1fr)\"))\ndisplay(grid_maps)\n\n\n\n\n\nimport folium\nimport geopandas as gpd\nimport pandas as pd\nimport ipywidgets as widgets\nfrom IPython.display import display\n\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(\n    quarterly_financials.zip_coordinates.apply(lambda p: p[1]), \n    quarterly_financials.zip_coordinates.apply(lambda p: p[0])\n))\n\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Return the map\n    return m\n\n\n# Define the four dates to display\ndates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\n# Create a list of output widgets containing the Folium maps for each date\noutputs = [widgets.Output() for _ in range(4)]\n\n# Create a 2x2 grid of output widgets and add the Folium maps to them\ngrid = widgets.GridBox(outputs, layout=widgets.Layout(grid_template_columns=\"repeat(2, 1fr)\", grid_gap=\"20px\"))\nfor i, output in enumerate(outputs):\n    with output:\n        display(plot_bank_assets_by_date(dates[i]))\n\n# Display the grid\ndisplay(grid)\n\n\n\n\n\nimport folium\nimport geopandas as gpd\nimport pandas as pd\nimport ipywidgets as widgets\nfrom IPython.display import display, HTML\n\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(\n    quarterly_financials.zip_coordinates.apply(lambda p: p[1]), \n    quarterly_financials.zip_coordinates.apply(lambda p: p[0])\n))\n\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Return the map as an HTML string\n    return m._repr_html_()\n\n\n# Define the four dates to display\ndates = ['1992-12-31', '2002-12-31', '2012-12-30', '2022-12-31']\n\n# Create a list of output widgets containing the Folium maps for each date\noutputs = [widgets.Output() for _ in range(4)]\n\n# Add the Folium maps to the output widgets\nfor i, output in enumerate(outputs):\n    with output:\n        display(HTML(plot_bank_assets_by_date(dates[i])))\n\n# Create a VBox to group the output widgets vertically\nvbox1 = widgets.VBox([outputs[0], outputs[1]])\nvbox2 = widgets.VBox([outputs[2], outputs[3]])\n\n# Create an HBox to group the two VBoxes horizontally\nhbox = widgets.HBox([vbox1, vbox2])\n\n# Display the HBox\ndisplay(hbox)\n\n\n\n\n\nimport folium\nimport geopandas as gpd\nimport pandas as pd\nimport ipywidgets as widgets\nfrom IPython.display import display, HTML\n\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(\n    quarterly_financials.zip_coordinates.apply(lambda p: p[1]), \n    quarterly_financials.zip_coordinates.apply(lambda p: p[0])\n))\n\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Return the map as an HTML string\n    return m._repr_html_()\n\n\n# Define the four dates to display\ndates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\n# Create a list of output widgets containing the Folium maps for each date\noutputs = [widgets.Output() for _ in range(4)]\n\n# Add the Folium maps to the output widgets\nfor i, output in enumerate(outputs):\n    with output:\n        display(HTML(plot_bank_assets_by_date(dates[i])))\n\n# Create an HBox to display the output widgets in a row\nhbox = widgets.HBox(outputs)\n\n# Display the HBox\ndisplay(hbox)\n\n\n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output, display\nimport base64\nfrom io import BytesIO\nfrom IPython.display import IFrame\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\nlatest_date = unique_dates[-1]\n\nmap_display_id = display(plot_bank_assets_by_date(latest_date), display_id=True)\n\n\ndef folium_map_to_iframe(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return IFrame(f\"data:text/html;base64,{b64}\", width=\"100%\", height=\"400\")\n\n\ndef on_slider_change(change):\n    pass\n\n\n# Display the latest map\niframe = folium_map_to_iframe(plot_bank_assets_by_date(latest_date))\nmap_display_id.update(iframe)\n\n\n        \n        \n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output, display\nimport base64\nfrom io import BytesIO\nfrom IPython.display import IFrame\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\nfor i, m in enumerate(maps):\n    iframe = folium_map_to_iframe(m)\n    display(HTML(f\"&lt;h2&gt;{unique_dates[i]}&lt;/h2&gt;\"))\n    display(iframe)\n    display(HTML(\"&lt;hr&gt;\"))\n    \n\ndef folium_map_to_iframe(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return IFrame(f\"data:text/html;base64,{b64}\", width=\"100%\", height=\"400\")\n\n1992-12-31\n\n\n\n        \n        \n\n\n\n\n\n2002-12-31\n\n\n\n        \n        \n\n\n\n\n\n2012-12-31\n\n\n\n        \n        \n\n\n\n\n\n2022-12-31\n\n\n\n        \n        \n\n\n\n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output, display\nimport base64\nfrom io import BytesIO\nfrom IPython.display import IFrame\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Return the map\n    return m\n\ndef folium_map_to_html(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return f'&lt;iframe src=\"data:text/html;base64,{b64}\" width=\"100%\" height=\"400\"&gt;&lt;/iframe&gt;'\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\ntable_html = '&lt;table&gt;&lt;tr&gt;'\nfor i, m in enumerate(maps):\n    table_html += f'&lt;td&gt;{folium_map_to_html(m)}&lt;/td&gt;'\n    if (i + 1) % 2 == 0:\n        table_html += '&lt;/tr&gt;&lt;tr&gt;'\ntable_html += '&lt;/tr&gt;&lt;/table&gt;'\n\ndisplay(HTML(table_html))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfrom IPython.display import display, HTML\nfrom io import BytesIO\nimport base64\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\n\ndef folium_map_to_iframe_data(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return f'&lt;iframe src=\"data:text/html;base64,{b64}\" width=\"100%\" height=\"400\"&gt;&lt;/iframe&gt;'\n\ntable_html = '&lt;table&gt;&lt;tr&gt;'\nfor i, m in enumerate(maps):\n    iframe_data = folium_map_to_iframe_data(m)\n    table_html += f'&lt;td&gt;&lt;h3&gt;{unique_dates[i]}&lt;/h3&gt;{iframe_data}&lt;/td&gt;'\n    if (i + 1) % 2 == 0:\n        table_html += '&lt;/tr&gt;&lt;tr&gt;'\ntable_html += '&lt;/tr&gt;&lt;/table&gt;'\n\ndisplay(HTML(table_html))\n\n\n\n\n\n\n\n\n\n1992-12-31\n\n\n\n\n\n2002-12-31\n\n\n\n\n\n\n\n2012-12-31\n\n\n\n\n\n2022-12-31\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfrom IPython.display import display, HTML\nfrom io import BytesIO\nimport base64\nimport os\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\n    \ndef folium_map_to_iframe_data(m, map_name):\n    map_path = f'{map_name}.html'\n    m.save(map_path)\n    IFrame(m, width=700, height=600)\n    display(m)\n\n\nfor i, m in enumerate(maps):\n    map_name = f'map_{i}'\n    iframe_data = folium_map_to_iframe_data(m, map_name)\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nfrom IPython.display import display, HTML\nfrom io import BytesIO\nimport base64\nimport os\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\n    \ndef folium_map_to_iframe_data(m, map_name):\n    map_path = f'{map_name}.html'\n    m.save(map_path)\n    iframe = IFrame(src=map_path, width=350, height=300)\n    return iframe\n\n# Create a 2-column layout for the iframes\ndisplay(HTML(\"\"\"\n&lt;style&gt;\n    .map-container {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n    }\n    .map-box {\n        width: 50%;\n        padding: 5px;\n    }\n&lt;/style&gt;\n&lt;div class=\"map-container\"&gt;\n\"\"\"))\n\nfor i, m in enumerate(maps):\n    map_name = f'map_{i}'\n    iframe_data = folium_map_to_iframe_data(m, map_name)\n    display(HTML(f'&lt;div class=\"map-box\"&gt;{iframe_data._repr_html_()}&lt;/div&gt;'))\n\n# Close the map-container div\ndisplay(HTML('&lt;/div&gt;'))\n\n\n\n\n\n\n\n\n        \n        \n\n\n\n        \n        \n\n\n\n        \n        \n\n\n\n        \n        \n\n\n\n\n\n\nfrom IPython.display import display, HTML\nfrom io import BytesIO\nimport base64\nimport os\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=3)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\n    \n\ndef folium_map_to_iframe_data(m, map_name):\n    map_path = f'{map_name}.html'\n    m.save(map_path)\n    iframe = IFrame(src=map_path, width=350, height=300)\n    return iframe\n\n# Initialize the HTML structure for the 2-column layout\nhtml_structure = \"\"\"\n&lt;style&gt;\n    .map-container {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    .map-box {\n        width: 50%;\n        padding: 5px;\n        box-sizing: border-box;\n    }\n&lt;/style&gt;\n&lt;div class=\"map-container\"&gt;\n\"\"\"\n\n# Add the iframes to the HTML structure\nfor i, m in enumerate(maps):\n    map_name = f'map_{i}'\n    iframe_data = folium_map_to_iframe_data(m, map_name)\n    html_structure += f'&lt;div class=\"map-box\"&gt;{iframe_data._repr_html_()}&lt;/div&gt;'\n\n# Close the map-container div and display the HTML structure\nhtml_structure += '&lt;/div&gt;'\ndisplay(HTML(html_structure))\n\n\n\n\n\n\n        \n        \n        \n        \n        \n        \n        \n        \n\n\n\nfrom IPython.display import display, HTML\nfrom io import BytesIO\nimport base64\nimport os\nimport pandas as pd\nimport geopandas as gpd\nimport folium\n\n\n# Convert quarterly_financials to a GeoDataFrame\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=3)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\n\nunique_dates = ['1992-12-31', '2002-12-31', '2012-12-31', '2022-12-31']\n\nmaps = []\n\nfor date in unique_dates:\n    maps.append(plot_bank_assets_by_date(pd.to_datetime(date)))\n\n    \n\ndef folium_map_to_iframe_data(m, map_name):\n    map_path = f'{map_name}.html'\n    m.save(map_path)\n    iframe = IFrame(src=map_path, width=350, height=300)\n    return iframe\n\n# Initialize the HTML structure for the 2-column layout\nhtml_structure = \"\"\"\n&lt;style&gt;\n    .map-container {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    .map-box {\n        width: 50%;\n        padding: 5px;\n        box-sizing: border-box;\n    }\n    .map-title {\n        text-align: center;\n        font-weight: bold;\n    }\n&lt;/style&gt;\n&lt;div class=\"map-container\"&gt;\n\"\"\"\n\n# Add the iframes to the HTML structure with the date on top\nfor i, m in enumerate(maps):\n    map_name = f'map_{i}'\n    iframe_data = folium_map_to_iframe_data(m, map_name)\n    date = unique_dates[i]\n    html_structure += f'&lt;div class=\"map-box\"&gt;&lt;div class=\"map-title\"&gt;{date}&lt;/div&gt;{iframe_data._repr_html_()}&lt;/div&gt;'\n\n# Close the map-container div and display the HTML structure\nhtml_structure += '&lt;/div&gt;'\ndisplay(HTML(html_structure))\n\n\n\n\n1992-12-31\n        \n        2002-12-31\n        \n        2012-12-31\n        \n        2022-12-31\n        \n        \n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output, display\nimport base64\nfrom io import BytesIO\nfrom IPython.display import IFrame\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\nindex_slider = widgets.IntSlider(\n    min=0,\n    max=len(unique_dates) - 1,\n    description='Date Index:',\n    continuous_update=False,\n)\n\nplay_button = widgets.Play(\n    interval=100,  # Time in milliseconds between updates\n    value=0,  # Slider starting value\n    min=0,\n    max=len(unique_dates) - 1,\n    step=1,\n    description=\"Press play\",\n    disabled=False\n)\n\nwidgets.jslink((play_button, 'value'), (index_slider, 'value'))\n\nslider_with_play = widgets.HBox([index_slider, play_button])\n\n\nmap_display_id = display(display_map(index_slider.value), display_id=True)\n\n\ndef folium_map_to_iframe(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return IFrame(f\"data:text/html;base64,{b64}\", width=\"100%\", height=\"400\")\n\n\ndef display_map(index):\n    date = unique_dates[index]\n    m = plot_bank_assets_by_date(date)\n    iframe = folium_map_to_iframe(m)  # Convert the Folium map to an iframe\n    return iframe  # return the iframe instead of the map\n\ndef on_slider_change(change):\n    iframe = display_map(change[\"new\"])\n    map_display_id.update(iframe)\n\n\n\n\nindex_slider.observe(on_slider_change, names=\"value\")\n\n# Trigger the initial display of the map\non_slider_change({\"new\": index_slider.value})\n\n# Display the slider with the play button\ndisplay(slider_with_play)\n\n\n        \n        \n\n\n\n\n\n\nfrom jinja2 import Template\nimport json\n\ntemplate = \"\"\"\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Bank Assets Map&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css\" /&gt;\n    &lt;script src=\"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js\"&gt;&lt;/script&gt;\n    &lt;style&gt;\n        #map {height: 400px; width: 100%;}\n        #slider-container {margin: 10px 0;}\n        #play-button {margin-left: 10px;}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"slider-container\"&gt;\n        &lt;input type=\"range\" id=\"slider\" min=\"0\" max=\"{{ num_dates - 1 }}\" value=\"0\"&gt;\n        &lt;button id=\"play-button\"&gt;Play&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;script&gt;\n        const dates = {{ dates }};\n        let map;\n        let circles = [];\n        let currentIndex = 0;\n        let playInterval;\n\n        function scaleBubbleSize(assets) {\n            return assets / 50000;\n        }\n\n        function updateMap(index) {\n            if (map) {\n                circles.forEach(circle =&gt; {\n                    map.removeLayer(circle);\n                });\n                circles = [];\n            } else {\n                map = L.map('map').setView([37.8, -96], 4);\n            }\n\n            const date = dates[index];\n            const stateAssets = {{ state_assets_by_date_json }}[date];\n\n            for (const state in stateAssets) {\n                const assets = stateAssets[state];\n                const centroid = {{ centroids_json }}[state];\n\n                const circle = L.circleMarker(centroid, {\n                    radius: scaleBubbleSize(assets),\n                    color: 'blue',\n                    fill: true,\n                    fillColor: 'blue',\n                    fillOpacity: 0.5\n                }).bindPopup(`State: ${state}&lt;br&gt;Total Assets: ${assets.toFixed(0)}&lt;br&gt;Date: ${date}`).addTo(map);\n\n                circles.push(circle);\n            }\n        }\n\n        function onSliderChange() {\n            currentIndex = parseInt(document.getElementById('slider').value);\n            updateMap(currentIndex);\n        }\n\n        function onPlayButtonClick() {\n            if (playInterval) {\n                clearInterval(playInterval);\n                playInterval = null;\n                document.getElementById('play-button').textContent = 'Play';\n            } else {\n                playInterval = setInterval(() =&gt; {\n                    currentIndex++;\n                    if (currentIndex &gt;= {{ num_dates }}) {\n                        currentIndex = 0;\n                    }\n                    document.getElementById('slider').value = currentIndex;\n                    updateMap(currentIndex);\n                }, 100);\n                document.getElementById('play-button').textContent = 'Pause';\n            }\n        }\n\n        document.getElementById('slider').addEventListener('input', onSliderChange);\n        document.getElementById('play-button').addEventListener('click', onPlayButtonClick\n        });\n\n        updateMap(currentIndex);\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n \"\"\"\n\n# Prepare the data for the template\nunique_dates = sorted(quarterly_financials['report_date'].unique())\nstate_centroids = gdf.groupby('state').apply(lambda x: x.unary_union.centroid.coords[0]).to_dict()\nstate_assets_by_date = (gdf.groupby(['report_date', 'state'])['assets_mill']\n                        .sum()\n                        .unstack(fill_value=0)\n                        .stack()\n                        .reset_index(name='assets_mill')\n                        .groupby('report_date')\n                        .apply(lambda x: x.set_index('state')['assets_mill'].to_dict())\n                        .to_dict())\n\nstate_assets_by_date = {k.strftime('%Y-%m-%d'): v for k, v in state_assets_by_date.items()}\n\n# Render the template with the data\nrendered_template = Template(template).render(\n    num_dates=len(unique_dates),\n    dates=unique_dates,\n    centroids_json=json.dumps(state_centroids),\n    state_assets_by_date_json=json.dumps(state_assets_by_date),\n)\n\n# Save the rendered template to a standalone HTML file\nwith open(\"map.html\", \"w\") as f:\n    f.write(rendered_template)\n\n\nimport base64\nfrom io import BytesIO\nimport geopandas as gpd\nimport folium\nimport pandas as pd\nfrom ipywidgets import interact_manual, IntSlider\nfrom ipywidgets.embed import embed_minimal_html\n\n# Load your data into the quarterly_financials variable\n# ... your data loading code here ...\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    filtered_gdf = gdf[gdf['report_date'] == date]\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    return m\n\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\nindex_slider = IntSlider(\n    min=0,\n    max=len(unique_dates) - 1,\n    description='Date Index:',\n    continuous_update=False,\n)\n\ndef display_map(index):\n    date = unique_dates[index]\n    m = plot_bank_assets_by_date(date)\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return f'&lt;iframe src=\"data:text/html;base64,{b64}\" width=\"100%\" height=\"400\"&gt;&lt;/iframe&gt;'\n\n# Wrap the display_map function with interact_manual\ninteract_manual_plot = interact_manual(display_map, index=index_slider)\n\n# Export the plot and slider widgets to an HTML file\nembed_minimal_html('output.html', views=[interact_manual_plot], title='Bank Assets by Date')\n\n\n\n\nAttributeError: 'function' object has no attribute 'get_view_spec'\n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output\nimport base64\nfrom io import BytesIO\nfrom IPython.display import IFrame\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\nindex_slider = widgets.IntSlider(\n    min=0,\n    max=len(unique_dates) - 1,\n    description='Date Index:',\n    continuous_update=False,\n)\n\nplay_button = widgets.Play(\n    interval=100,  # Time in milliseconds between updates\n    value=0,  # Slider starting value\n    min=0,\n    max=len(unique_dates) - 1,\n    step=1,\n    description=\"Press play\",\n    disabled=False\n)\n\nwidgets.jslink((play_button, 'value'), (index_slider, 'value'))\n\nslider_with_play = widgets.HBox([index_slider, plasy_button])\n\ndef folium_map_to_iframe(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return IFrame(f\"data:text/html;base64,{b64}\", width=\"100%\", height=\"400\")\n\n\ndef display_map(index):\n    date = unique_dates[index]\n    m = plot_bank_assets_by_date(date)\n    iframe = folium_map_to_iframe(m)  # Convert the Folium map to an iframe\n    return iframe  # return the iframe instead of the map\n\nfrom ipywidgets import HTML as HTML_widget\n\n# Create an HTML widget to display the map\nmap_html_widget = HTML_widget()\n\nfrom ipywidgets import VBox\nfrom ipywidgets.embed import embed_minimal_html\n\ndef on_slider_change(change):\n    iframe = display_map(change[\"new\"])\n    map_html_widget.value = iframe._repr_html_()  # Update the HTML widget with the new iframe\n\n# Trigger the initial display of the map\ninitial_iframe = display_map(index_slider.value)\nmap_html_widget.value = initial_iframe._repr_html_()\n\n# Create a VBox containing the slider and the map\nvbox = VBox([slider_with_play, map_html_widget])\n\n# Display the VBox in the notebook\ndisplay(vbox)\n\n# Export the VBox to a standalone HTML file\nembed_minimal_html(\"output.html\", views=[vbox], title=\"Interactive Map\")\n\n\n\nNameError: name 'plasy_button' is not defined\n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output\nimport base64\nfrom io import BytesIO\nfrom IPython.display import IFrame\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\nindex_slider = widgets.IntSlider(\n    min=0,\n    max=len(unique_dates) - 1,\n    description='Date Index:',\n    continuous_update=False,\n)\n\nplay_button = widgets.Play(\n    interval=100,  # Time in milliseconds between updates\n    value=0,  # Slider starting value\n    min=0,\n    max=len(unique_dates) - 1,\n    step=1,\n    description=\"Press play\",\n    disabled=False\n)\n\nwidgets.jslink((play_button, 'value'), (index_slider, 'value'))\n\nslider_with_play = widgets.HBox([index_slider, play_button])\n\ndef folium_map_to_iframe(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return IFrame(f\"data:text/html;base64,{b64}\", width=\"100%\", height=\"400\")\n\n\ndef display_map(index):\n    date = unique_dates[index]\n    m = plot_bank_assets_by_date(date)\n    iframe = folium_map_to_iframe(m)  # Convert the Folium map to an iframe\n    return iframe  # return the iframe instead of the map\n\nfrom ipywidgets import HTML as HTML_widget\n\n# Create an HTML widget to display the map\nmap_html_widget = HTML_widget()\n\nfrom ipywidgets import VBox\nfrom ipywidgets.embed import embed_minimal_html\n\ndef on_slider_change(change):\n    iframe = display_map(change[\"new\"])\n    map_html_widget.value = iframe._repr_html_()  # Update the HTML widget with the new iframe\n\nindex_slider.observe(on_slider_change, names='value')\n\n\n# Trigger the initial display of the map\ninitial_iframe = display_map(index_slider.value)\nmap_html_widget.value = initial_iframe._repr_html_()\n\n# Create a VBox containing the slider and the map\nvbox = VBox([slider_with_play, map_html_widget])\n\n# Display the VBox in the notebook\ndisplay(vbox)\n\n# Export the VBox to a standalone HTML file\nembed_minimal_html(\"output.html\", views=[vbox], title=\"Interactive Map\")\n\n\n\n\n\n\n\nfrom ipywidgets.embed import embed_minimal_html\nimport branca\nfrom IPython.display import HTML, clear_output\nimport base64\nfrom io import BytesIO\nfrom IPython.display import FileLink\n\ngdf = gpd.GeoDataFrame(quarterly_financials, geometry=gpd.points_from_xy(quarterly_financials.zip_coordinates.apply(lambda p: p[1]), quarterly_financials.zip_coordinates.apply(lambda p: p[0])))\n\ndef plot_bank_assets_by_date(date):\n    # Filter the GeoDataFrame by the selected date\n    filtered_gdf = gdf[gdf['report_date'] == date]\n\n    # Group the filtered GeoDataFrame by state and sum the assets\n    state_assets = filtered_gdf.groupby('state')['assets_mill'].sum().reset_index()\n\n    # Create the base folium map\n    m = folium.Map(location=[37.8, -96], zoom_start=4)\n\n    # Define a function to scale the assets to a suitable size for the map\n    def scale_bubble_size(assets):\n        return assets / 50000\n\n    # Plot bubbles for each state with a size proportional to the total assets\n    for index, row in state_assets.iterrows():\n        state_data = filtered_gdf[filtered_gdf['state'] == row['state']]\n        state_centroid = state_data.unary_union.centroid\n        folium.CircleMarker(\n            location=[state_centroid.y, state_centroid.x],\n            radius=scale_bubble_size(row['assets_mill']),\n            color='blue',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.5,\n            popup=f\"State: {row['state']}&lt;br&gt;Total Assets: {row['assets_mill']:.0f}&lt;br&gt;Date: {date}\"\n        ).add_to(m)\n\n    # Display the map\n    return m\n\nunique_dates = sorted(quarterly_financials['report_date'].unique())\n\nindex_slider = widgets.IntSlider(\n    min=0,\n    max=len(unique_dates) - 1,\n    description='Date Index:',\n    continuous_update=False,\n)\n\nplay_button = widgets.Play(\n    interval=100,  # Time in milliseconds between updates\n    value=0,  # Slider starting value\n    min=0,\n    max=len(unique_dates) - 1,\n    step=1,\n    description=\"Press play\",\n    disabled=False\n)\n\nwidgets.jslink((play_button, 'value'), (index_slider, 'value'))\n\nslider_with_play = widgets.HBox([index_slider, play_button])\n\ndef folium_map_to_iframe(m):\n    data = BytesIO()\n    m.save(data, close_file=False)\n    data.seek(0)\n    b64 = base64.b64encode(data.read()).decode(\"utf-8\")\n    return IFrame(f\"data:text/html;base64,{b64}\", width=\"100%\", height=\"400\")\n\n\ndef display_map(index):\n    date = unique_dates[index]\n    m = plot_bank_assets_by_date(date)\n    iframe = folium_map_to_iframe(m)  # Convert the Folium map to an iframe\n    return iframe  # return the iframe instead of the map\n\nfrom ipywidgets import HTML as HTML_widget\n\n# Create an HTML widget to display the map\nmap_html_widget = HTML_widget()\n\nfrom ipywidgets import VBox\nfrom ipywidgets.embed import embed_minimal_html\n\ndef on_slider_change(change):\n    iframe = display_map(change[\"new\"])\n    map_html_widget.value = iframe._repr_html_()  # Update the HTML widget with the new iframe\n\nindex_slider.observe(on_slider_change, names='value')\n\n\n# Trigger the initial display of the map\ninitial_iframe = display_map(index_slider.value)\nmap_html_widget.value = initial_iframe._repr_html_()\n\n# Create a VBox containing the slider and the map\nvbox = VBox([slider_with_play, map_html_widget])\n\n# Display the VBox in the notebook\ndisplay(vbox)\n\n# Export the VBox to a standalone HTML file\nembed_minimal_html(\"output.html\", views=[vbox], title=\"Interactive Map\")"
  },
  {
    "objectID": "data_cleaning/geospatial_cleaning.html#individual-points",
    "href": "data_cleaning/geospatial_cleaning.html#individual-points",
    "title": "Data Cleaning - Geospatial Data",
    "section": "Individual Points",
    "text": "Individual Points\nHeatmap all dates\nLatest date only\n\nimport folium\nfrom folium.plugins import HeatMap\nimport pandas as pd\nfrom IPython.display import IFrame\n\n# Find the latest date\nlatest_date = quarterly_financials['report_date'].max()\n\n# Filter the DataFrame by the latest date\nlatest_quarterly_financials = quarterly_financials[quarterly_financials['report_date'] == latest_date]\n\n# Create a base map\nmap = folium.Map(location=[37.8, -96], zoom_start=4)\n\n# Prepare the data for the HeatMap\nheatmap_data = []\nfor index, row in latest_quarterly_financials.iterrows():\n    coordinates = row['zip_coordinates']\n    assets_mill = row['assets_mill']\n    heatmap_data.append((*coordinates, assets_mill))\n\n# Add the HeatMap to the map\nheatmap = HeatMap(heatmap_data, radius=13, max_zoom=13, gradient={0.2: 'blue', 0.4: 'lime', 0.6: 'orange', 1: 'red'})\nmap.add_child(heatmap)\n\n# For rendering on Quarto\nmap.save('heatmap_latest_date.html')\nIFrame(src='heatmap_latest_date.html', width=700, height=600)\n\n# For rendering in Jupyter Notebook\ndisplay(map)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\n\nimport folium\nfrom folium.plugins import HeatMap\nimport pandas as pd\nfrom IPython.display import IFrame\n\n# Find the latest date\nlatest_date = quarterly_financials['report_date'].max()\n\n# Filter the DataFrame by the latest date\nlatest_quarterly_financials = quarterly_financials[quarterly_financials['report_date'] == latest_date]\n\n# Create a base map\nmap = folium.Map(location=[37.8, -96], zoom_start=4)\n\n# Prepare the data for the HeatMap\nheatmap_data = []\nfor index, row in latest_quarterly_financials.iterrows():\n    coordinates = row['zip_coordinates']\n    assets_mill = row['assets_mill']\n    heatmap_data.append((*coordinates, assets_mill))\n\n# Add the HeatMap to the map\nheatmap = HeatMap(heatmap_data, radius=13, max_zoom=13, gradient={0.0: '#ffffb2', 0.25: '#fecc5c', 0.5: '#fd8d3c', 0.75: '#f03b20', 1.0: '#bd0026'}) # YlOrBr color scheme\nmap.add_child(heatmap)\n\n# Function to scale the assets to a suitable size for the map\ndef scale_bubble_size(assets):\n    return assets / 50000\n\n# Add CircleMarkers with tooltips to the map\nfor index, row in latest_quarterly_financials.iterrows():\n    coordinates = row['zip_coordinates']\n    assets_mill = row['assets_mill']\n    bank_name = row['name']\n    tooltip_text = f\"Bank: {bank_name}&lt;br&gt;Coordinates: {coordinates}&lt;br&gt;Assets (millions): {assets_mill}\"\n    folium.CircleMarker(\n        location=coordinates,\n        radius=scale_bubble_size(assets_mill),\n        color='blue',\n        fill=True,\n        fill_color='blue',\n        fill_opacity=0.5,\n        tooltip=tooltip_text,\n    ).add_to(map)\n\n# For rendering on Quarto\nmap.save('heatmap.html')\nIFrame(src='heatmap.html', width=700, height=600)\n\n# For rendering in Jupyter Notebook\ndisplay(map)\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "the_fdic.html",
    "href": "the_fdic.html",
    "title": "The FDIC",
    "section": "",
    "text": "The FDIC\n\n\nIntroduction\nOn Friday, March 10th, 2023, U.S. regulators seized Silicon Valley Bank (SVB) in the largest U.S. bank failure since the 2008 financial crisis. The 40-year-long bank operation suddenly stopped after depositors panicked when learning that the bank was short on capital. The bank found itself in this position due to several factors, including incorrect investment allocation and customers requiring to use more cash in the bank as Venture Capital firms cut back their funding (Vanian 2023). The public quickly turned its attention to the Federal Deposit Insurance Corporation (FDIC). The FDIC is an independent government agency tasked with insuring deposits, supervising financial institutions, and dealing with the orderly management of a bank failure. Most famously, the FDIC provides a standard insurance amount of $250,000 per depositor, per insured bank, which has accomplished for no depositor to lose a penny of insured funds due to a failure since 1934 (Federal Deposit Insurance Corporation 2020). It became apparent that the general public needed to be made aware of the FDIC system, its role in the financial system, and its importance in preserving the financial well-being of the U.S. population. In this report, we seek to provide a glimpse into the FDIC system and offer a rich visual representation of the system’s mechanics.\n\n\n\n\n\nReferences\n\nFederal Deposit Insurance Corporation. 2020. “What We Do.” Federal Deposit Insurance Corporation. https://www.fdic.gov/about/what-we-do/index.html.\n\n\nVanian, Jonathan, Rohan Goswami. 2023. “Here’s How the Second-Biggest Bank Collapse in U.S. History Happened in Just 48 Hours.” CNBC. https://www.cnbc.com/2023/03/10/silicon-valley-bank-collapse-how-it-happened.html."
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Data",
    "section": "",
    "text": "Data"
  }
]